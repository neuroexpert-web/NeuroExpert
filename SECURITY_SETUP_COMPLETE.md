# üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **CodeQL Bundle Action —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω**

–§–∞–π–ª: `.github/workflows/security-scan-enhanced.yml`

```yaml
- name: Setup CodeQL Bundle
  uses: advanced-security/codeql-bundle-action@v2.2.0
```

### 2. **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

- ‚úÖ **TruffleHog** - –ø–æ–∏—Å–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∏—Å—Ç–æ—Ä–∏–∏ git
- ‚úÖ **Gitleaks** - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ **CodeQL** - –∞–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –∫–æ–¥–∞
- ‚úÖ **npm audit** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ **Snyk** - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- ‚úÖ **OWASP** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ **Trivy** - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Docker

### 3. **–ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤**

#### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `scripts/security-check.sh` - –ª–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `.github/workflows/security-scan-enhanced.yml` - CI/CD –ø—Ä–æ–≤–µ—Ä–∫–∏

#### –û–±–Ω–æ–≤–ª–µ–Ω `.gitignore`:

```
.env
.env.local
.env.production
.env.development
.env.*
```

## üö® –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–§–∞–π–ª `.env.local` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**

- ‚úÖ –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω –≤ git (—Ö–æ—Ä–æ—à–æ)
- ‚ö†Ô∏è –°–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏
- üìã –î–µ–π—Å—Ç–≤–∏–µ: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç–µ –µ–≥–æ

### 2. **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–ª—é—á–µ–π –≤ –∫–æ–¥–µ**

- `app/api/assistant/route.js` - —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ `API_KEY`
- `app/api/admin/auth/route.js` - —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ `SECRET`
- ‚úÖ –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `process.env`

## üõ°Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ**

```
.env
.env.local
.env.production
–ª—é–±—ã–µ —Ñ–∞–π–ª—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
```

### 2. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ**

```javascript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
const API_KEY = process.env.GEMINI_API_KEY;

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
const API_KEY = 'AIzaSy...';
```

### 3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ**

```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
./scripts/security-check.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm audit

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ–∫—Ä–µ—Ç—ã
git secrets --scan
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è production

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] `.env` —Ñ–∞–π–ª—ã –≤ `.gitignore`
- [ ] –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–∞ –ø–∞—Ä–æ–ª–µ–π/–∫–ª—é—á–µ–π
- [ ] npm audit –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- [ ] –í–∫–ª—é—á–µ–Ω GitHub Secret Scanning
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω branch protection
- [ ] –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω CodeQL –∞–Ω–∞–ª–∏–∑

## üîß –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤ GitHub

### 1. –í–∫–ª—é—á–∏—Ç–µ Secret Scanning

```
Settings ‚Üí Security & analysis ‚Üí
‚úÖ Secret scanning
‚úÖ Push protection
```

### 2. –í–∫–ª—é—á–∏—Ç–µ Code Scanning

```
Settings ‚Üí Security & analysis ‚Üí
‚úÖ Code scanning
‚Üí Set up ‚Üí CodeQL Analysis
```

### 3. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)

```
Settings ‚Üí Secrets ‚Üí Actions ‚Üí
SNYK_TOKEN (–¥–ª—è Snyk scanning)
```

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º push/PR –±—É–¥–µ—Ç:

1. –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ–∫—Ä–µ—Ç—ã
2. CodeQL –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
4. –û—Ç—á–µ—Ç –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å:

```
GitHub ‚Üí Security ‚Üí
- Secret scanning alerts
- Code scanning alerts
- Dependabot alerts
```

---

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞! –ü—Ä–æ–µ–∫—Ç –∑–∞—â–∏—â–µ–Ω –æ—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö —É–≥—Ä–æ–∑.** üõ°Ô∏è
