# x402 Integration - Quick Start Guide

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production-Ready  
**–í–µ—Ä—Å–∏—è:** 2.0  
**–î–∞—Ç–∞:** 30 —Å–µ–Ω—Ç—è–±—Ä—è 2025

---

## üöÄ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ x402 —Å **—Ä–µ–∞–ª—å–Ω—ã–º –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** —á–µ—Ä–µ–∑ ethers.js v6 –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

- **–†–µ–∞–ª—å–Ω–æ–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** —á–µ—Ä–µ–∑ EIP-712
- **–†–∞–±–æ—Ç–∞ —Å ERC-20 —Ç–æ–∫–µ–Ω–∞–º–∏** (USDC, USDT)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ facilitator
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–æ–≤** —Ç–æ–∫–µ–Ω–æ–≤
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞

---

## üìÅ –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **`utils/x402Payment.js`**  
   –ú–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏ —á–µ—Ä–µ–∑ ethers.js v6
   - –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (EIP-712)
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–æ–≤
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞

2. **`X402_PRODUCTION_READY_REPORT.md`**  
   –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **`utils/x402Client.js`**  
   –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã:
   - `signPayment()` - —Ä–µ–∞–ª—å–Ω–æ–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ
   - `executePayment()` - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–ª–∞—Ç–µ–∂–∞
   - `executePaymentWithFallback()` - —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º fallback
   - `getTokenBalance()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
   - `sendTokenDirect()` - –ø—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- `lib/x402Config.js` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `utils/blockchain.js` - —Ä–∞–±–æ—Ç–∞ —Å Web3
- `app/components/WalletConnector.js` - UI –¥–ª—è –∫–æ—à–µ–ª—å–∫–∞
- API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ `app/api/`

---

## üíª –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ—Å—Ç–æ–π –ø–ª–∞—Ç–µ–∂

```javascript
import { X402Client } from './utils/x402Client';
import { connectWallet } from './utils/blockchain';

const wallet = await connectWallet();
const client = new X402Client();

const result = await client.executePayment(
  100,              // –°—É–º–º–∞ –≤ USD
  wallet.address,   // –ê–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  'base',          // –°–µ—Ç—å
  'usdc'           // –¢–æ–∫–µ–Ω
);

console.log('TX Hash:', result.txHash);
console.log('Explorer:', result.explorerUrl);
```

### 2. –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º fallback

```javascript
// –£–º–Ω—ã–π –º–µ—Ç–æ–¥ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–µ—Ä–µ—Ç –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–±
const result = await client.executePaymentWithFallback(
  50,
  wallet.address,
  'base',
  'usdc'
);
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞

```javascript
const balance = await client.getTokenBalance(
  'usdc',
  wallet.address,
  'base'
);

console.log(`–ë–∞–ª–∞–Ω—Å USDC: ${balance}`);
```

---

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è production

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏:

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å facilitator**
   ```bash
   # –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏: https://cdp.coinbase.com/
   NEXT_PUBLIC_X402_FACILITATOR_URL=https://facilitator.coinbase.com
   X402_FACILITATOR_API_KEY=your_key
   ```

2. **–£–∫–∞–∑–∞—Ç—å –∞–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è**
   ```bash
   NEXT_PUBLIC_RECIPIENT_WALLET_ADDRESS=0xYourWalletAddress
   ```

3. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
   - –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ testnet**
   ```bash
   NEXT_PUBLIC_DEFAULT_CHAIN=base_sepolia
   # –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã: https://faucet.quicknode.com/base/sepolia
   ```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

1. **X402_PRODUCTION_READY_REPORT.md** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
2. **–ü—Ä–æ—Ç–æ–∫–æ–ª x402 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.md** - –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
3. **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ x402.md** - –ì–∞–π–¥ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
4. **X402_INTEGRATION_COMPLETE_REPORT.md** - –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:

- [x402 Protocol](https://www.x402.org/)
- [Coinbase CDP](https://docs.cdp.coinbase.com/x402/docs/welcome)
- [ethers.js v6](https://docs.ethers.org/v6/)
- [EIP-712](https://eips.ethereum.org/EIPS/eip-712)

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

```markdown
–ö–æ–¥:
- [x] ethers.js v6.9.0 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [x] –ú–æ–¥—É–ª—å x402Payment.js —Å–æ–∑–¥–∞–Ω
- [x] x402Client.js –æ–±–Ω–æ–≤–ª–µ–Ω
- [x] –í—Å–µ —É—Ç–∏–ª–∏—Ç—ã –≥–æ—Ç–æ–≤—ã

–ù–∞—Å—Ç—Ä–æ–π–∫–∞:
- [ ] Facilitator URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è —É–∫–∞–∑–∞–Ω
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ testnet

Production:
- [ ] API –∫–ª—é—á–∏ –ø–æ–ª—É—á–µ–Ω—ã
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] Mainnet –¥–µ–ø–ª–æ–π
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å **X402_PRODUCTION_READY_REPORT.md** –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `.env.local` —Ñ–∞–π–ª
3. –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏ –æ—Ç Coinbase CDP
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Base Sepolia testnet
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
6. –î–µ–ø–ª–æ–π –≤ production

---

## üí° –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–æ–±–ª–µ–º:

1. –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ **X402_PRODUCTION_READY_REPORT.md**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ testnet –ø–µ—Ä–µ–¥ mainnet
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Block Explorer –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ NeuroExpert –≥–æ—Ç–æ–≤–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∫—Ä–∏–ø—Ç–æ–ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª x402 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º MetaMask, Coinbase Wallet –∏ –¥—Ä—É–≥–∏—Ö Web3 –∫–æ—à–µ–ª—å–∫–æ–≤.

**–£—Å–ø–µ—Ö–æ–≤ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π! üöÄ**
