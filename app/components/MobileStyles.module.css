/* Мобильные стили для калькуляторов и основных компонентов */

/* Базовые мобильные стили */
@media (max-width: 768px) {
  /* Общие стили для всех компонентов */
  * {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
  
  /* Предотвращение горизонтального скролла */
  html, body {
    overflow-x: hidden !important;
    width: 100% !important;
  }
  
  /* Контейнеры */
  .container {
    padding: 0 1rem !important;
    max-width: 100% !important;
  }
  
  /* Текст */
  h1 {
    font-size: 1.75rem !important;
    line-height: 1.2 !important;
  }
  
  h2 {
    font-size: 1.5rem !important;
    line-height: 1.3 !important;
  }
  
  h3 {
    font-size: 1.25rem !important;
  }
  
  p {
    font-size: 0.95rem !important;
    line-height: 1.6 !important;
  }
  
  /* Кнопки */
  button, .button {
    min-height: 44px !important; /* iOS рекомендация */
    padding: 0.75rem 1.5rem !important;
    font-size: 1rem !important;
    width: 100% !important;
    margin-bottom: 1rem !important;
  }
  
  /* Формы */
  input, select, textarea {
    font-size: 16px !important; /* Предотвращает зум на iOS */
    padding: 0.75rem !important;
    min-height: 44px !important;
    width: 100% !important;
  }
  
  /* Модальные окна */
  .modal {
    padding: 1rem !important;
    margin: 1rem !important;
    max-height: calc(100vh - 2rem) !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
}

/* Маленькие экраны (до 480px) */
@media (max-width: 480px) {
  /* Еще меньше отступов */
  .container {
    padding: 0 0.75rem !important;
  }
  
  /* Еще меньше текст */
  h1 {
    font-size: 1.5rem !important;
  }
  
  h2 {
    font-size: 1.25rem !important;
  }
  
  h3 {
    font-size: 1.1rem !important;
  }
  
  p, .text {
    font-size: 0.9rem !important;
  }
  
  /* Компактные кнопки */
  button, .button {
    padding: 0.6rem 1rem !important;
    font-size: 0.95rem !important;
  }
}

/* Очень маленькие экраны (до 375px) */
@media (max-width: 375px) {
  /* Минимальные отступы */
  .container {
    padding: 0 0.5rem !important;
  }
  
  /* Компактные карточки */
  .card {
    padding: 1rem !important;
    margin-bottom: 0.75rem !important;
  }
  
  /* Мелкий текст для экономии места */
  small, .small {
    font-size: 0.75rem !important;
  }
}

/* Специфичные стили для калькуляторов */
@media (max-width: 768px) {
  /* PricingCalculator */
  .pricingCalculator {
    padding: 0 !important;
  }
  
  .pricingHeader {
    padding: 1rem !important;
    text-align: center !important;
  }
  
  .serviceCard {
    padding: 1rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .priceDisplay {
    padding: 1.5rem !important;
    position: sticky !important;
    bottom: 0 !important;
    background: var(--glass-bg) !important;
    backdrop-filter: blur(20px) !important;
    border-top: 1px solid var(--glass-border) !important;
    z-index: 10 !important;
  }
  
  /* ROICalculator */
  .roiCalculator {
    padding-top: 1rem !important;
  }
  
  .scenarioButtons {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.5rem !important;
  }
  
  .scenarioButton {
    width: 100% !important;
    justify-content: center !important;
    padding: 0.75rem !important;
  }
  
  .roiForm {
    gap: 1rem !important;
  }
  
  .roiField {
    margin-bottom: 1rem !important;
  }
  
  .roiResults {
    margin-top: 1rem !important;
    padding: 1rem !important;
  }
}

/* Горизонтальная ориентация */
@media (max-height: 480px) and (orientation: landscape) {
  /* Компактный вид для ландшафта */
  .header {
    position: sticky !important;
    top: 0 !important;
    z-index: 100 !important;
    background: var(--dark-bg) !important;
    padding: 0.5rem 1rem !important;
  }
  
  .container {
    padding-top: 3rem !important;
  }
  
  /* Скрываем декоративные элементы */
  .decorative,
  .floatingElement,
  .backgroundBlob {
    display: none !important;
  }
  
  /* Компактные формы */
  .form {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 0.5rem !important;
  }
}

/* Улучшения для тач-устройств */
@media (hover: none) and (pointer: coarse) {
  /* Увеличенные области нажатия */
  a, button, .clickable {
    position: relative !important;
  }
  
  a::after,
  button::after,
  .clickable::after {
    content: '' !important;
    position: absolute !important;
    top: -8px !important;
    right: -8px !important;
    bottom: -8px !important;
    left: -8px !important;
  }
  
  /* Отключаем hover эффекты */
  *:hover {
    transform: none !important;
  }
  
  /* Активные состояния вместо hover */
  button:active,
  .button:active {
    transform: scale(0.95) !important;
  }
}

/* Фиксы для iOS */
@supports (-webkit-touch-callout: none) {
  /* Фикс для iOS браузеров */
  input,
  select,
  textarea {
    -webkit-appearance: none !important;
    border-radius: 0 !important;
  }
  
  /* Предотвращение масштабирования */
  input[type="text"],
  input[type="number"],
  input[type="email"],
  input[type="tel"],
  select {
    font-size: 16px !important;
  }
  
  /* Фикс для sticky позиционирования */
  .sticky {
    position: -webkit-sticky !important;
    position: sticky !important;
  }
}

/* Фиксы для Android */
@media (max-width: 768px) {
  /* Фикс для Android клавиатуры */
  input:focus,
  select:focus,
  textarea:focus {
    position: relative !important;
    z-index: 999 !important;
  }
  
  /* Плавный скролл */
  * {
    scroll-behavior: smooth !important;
    -webkit-overflow-scrolling: touch !important;
  }
}

/* Улучшения производительности для мобильных */
@media (max-width: 768px) {
  /* Отключаем тяжелые эффекты */
  * {
    box-shadow: none !important;
  }
  
  /* Упрощенные градиенты */
  .gradient {
    background-image: none !important;
    background-color: var(--primary) !important;
  }
  
  /* Отключаем backdrop-filter на слабых устройствах */
  @supports not (backdrop-filter: blur(10px)) {
    .glass {
      backdrop-filter: none !important;
      background: rgba(0, 0, 0, 0.9) !important;
    }
  }
}