# üöÄ –°–¢–ê–¢–£–° –ò–ù–¢–ï–ì–†–ê–¶–ò–ò AI-–ê–ì–ï–ù–¢–û–í

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:

### 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- ‚úÖ **AI Agents Manager** (`/app/utils/ai-agents-manager.js`)
- ‚úÖ **API Endpoint** (`/app/api/ai-agent/route.js`)
- ‚úÖ **Smart Chat Widget** (`/app/components/SmartCustomerChat.js`)
- ‚úÖ **Admin Dashboard** (`/app/components/AIAgentsDashboard.js`)
- ‚úÖ **–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** (`/app/test-ai-agents/page.js`)

### 2. –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:
- ‚úÖ Next.js —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ http://localhost:3000
- ‚úÖ API endpoints –¥–æ—Å—Ç—É–ø–Ω—ã

## ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:

### 1. API –ö–ª—é—á–∏
–î–ª—è —Ä–∞–±–æ—Ç—ã AI –∞–≥–µ–Ω—Ç–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω API –∫–ª—é—á –≤ —Ñ–∞–π–ª `.env.local`:

```env
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env.local –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
GOOGLE_GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å
```

### 2. CSRF –∑–∞—â–∏—Ç–∞
–ù–æ–≤—ã–π endpoint `/api/ai-agent` —Ç—Ä–µ–±—É–µ—Ç –æ–±—Ö–æ–¥–∞ CSRF –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üîß –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π API
–ü—Ä–æ–µ–∫—Ç —É–∂–µ –∏–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—é—â–∏–π `/api/assistant` endpoint. –ú–æ–∂–Ω–æ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```javascript
// –í SmartCustomerChat.js –∏–∑–º–µ–Ω–∏—Ç–µ URL:
const response = await fetch('/api/assistant', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    question: input,
    model: 'gemini'
  })
});
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å CSRF –æ–±—Ö–æ–¥
–í —Ñ–∞–π–ª–µ `/app/api/ai-agent/route.js` –¥–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ POST:

```javascript
// –í—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
if (process.env.NODE_ENV === 'development') {
  // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º CSRF –ø—Ä–æ–≤–µ—Ä–∫—É
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/test-ai-agents

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –î–µ–π—Å—Ç–≤–∏–µ |
|-----------|--------|----------|
| AI Manager | ‚úÖ –ì–æ—Ç–æ–≤ | - |
| API Endpoint | ‚ö†Ô∏è CSRF –±–ª–æ–∫ | –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| Chat Widget | ‚úÖ –ì–æ—Ç–æ–≤ | - |
| Dashboard | ‚úÖ –ì–æ—Ç–æ–≤ | - |
| API Keys | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç | –î–æ–±–∞–≤–∏—Ç—å –≤ .env.local |

## üéØ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ**: http://localhost:3000/test-ai-agents
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–∞—Ç** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –¥–∞—à–±–æ—Ä–¥** –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ—Ç—Ä–∏–∫

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å API –∫–ª—é—á–∏ –≤ —Å–∏—Å—Ç–µ–º–µ, –Ω–æ –æ–Ω–∏ –Ω–µ –≤ .env —Ñ–∞–π–ª–µ, –≤—ã –º–æ–∂–µ—Ç–µ:

1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```bash
export GOOGLE_GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á
npm run dev
```

2. –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ package.json —Å–∫—Ä–∏–ø—Ç:
```json
"dev:ai": "GOOGLE_GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á next dev"
```

---

**–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!** –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏.