# Code Agent Configuration
# https://github.com/potproject/code-agent

version: 1

# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
settings:
  # AI –º–æ–¥–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
  model: gpt-4
  temperature: 0.7
  max_tokens: 2000
  
  # –Ø–∑—ã–∫ –æ—Ç—á–µ—Ç–æ–≤
  language: russian
  
  # –£—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
  verbosity: detailed
  
  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  auto_fix:
    enabled: false
    create_pr: true
    pr_title_prefix: "ü§ñ [Code Agent]"
    
# –ü—Ä–∞–≤–∏–ª–∞ –∞–Ω–∞–ª–∏–∑–∞
rules:
  # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  security:
    enabled: true
    priority: high
    checks:
      - no_hardcoded_secrets
      - secure_api_endpoints
      - validate_user_input
      - check_auth_middleware
      - xss_prevention
      - sql_injection_prevention
      - secure_headers
      
  # –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  performance:
    enabled: true
    priority: medium
    checks:
      - optimize_bundle_size
      - lazy_loading
      - image_optimization
      - code_splitting
      - memoization
      - avoid_memory_leaks
      - optimize_re_renders
      
  # –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
  best_practices:
    enabled: true
    priority: medium
    checks:
      - consistent_naming
      - proper_error_handling
      - clean_code_principles
      - solid_principles
      - dry_principle
      - kiss_principle
      
  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  documentation:
    enabled: true
    priority: low
    checks:
      - jsdoc_comments
      - readme_completeness
      - api_documentation
      - component_documentation
      
  # Next.js —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
  nextjs:
    enabled: true
    priority: high
    checks:
      - use_client_directive
      - app_router_best_practices
      - server_components_optimization
      - metadata_api_usage
      - image_component_usage
      - font_optimization
      - api_route_validation
      
  # React —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
  react:
    enabled: true
    priority: high
    checks:
      - hooks_rules
      - component_optimization
      - state_management
      - side_effects_handling
      - accessibility
      
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞
custom_rules:
  - name: "Check Russian Comments"
    description: "–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã"
    severity: low
    
  - name: "Validate ROI Calculator"
    description: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤ –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ ROI"
    severity: high
    pattern: "ROICalculator"
    
  - name: "AI Integration Security"
    description: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å AI —Å–µ—Ä–≤–∏—Å–∞–º–∏"
    severity: critical
    pattern: "api/ai-agent|api/assistant"
    
  - name: "Environment Variables"
    description: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è"
    severity: high
    pattern: "process.env"

# –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏
ignore:
  paths:
    - node_modules/
    - .next/
    - build/
    - dist/
    - coverage/
    - "*.min.js"
    - "*.map"
    - ".env*"
    
  issues:
    - "TODO comments"
    - "console.log in development"
    - "Experimental features warning"
    
# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
integrations:
  # –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  notifications:
    slack:
      enabled: false
      webhook_url: ${{ secrets.SLACK_WEBHOOK }}
      
    email:
      enabled: false
      recipients:
        - team@neuroexpert.com
        
  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
  tools:
    sonarqube:
      enabled: false
      
    sentry:
      enabled: true
      create_issues: true
      
    jira:
      enabled: false
      project_key: NEURO
      
# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
reports:
  format:
    - json
    - html
    - markdown
    
  include:
    - summary
    - detailed_issues
    - suggestions
    - metrics
    - trends
    
  # –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
  metrics:
    - code_quality_score
    - security_score
    - performance_score
    - test_coverage
    - bundle_size
    - accessibility_score
    
# –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
thresholds:
  # –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å PR –µ—Å–ª–∏:
  block_pr:
    critical_issues: 0
    high_issues: 3
    security_score: 80
    
  # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –µ—Å–ª–∏:
  warnings:
    medium_issues: 10
    performance_score: 70
    bundle_size_increase: 10 # –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤